!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=96)}([function(module,exports){module.exports=MailPoet},function(module,exports){module.exports=MailPoetLib.React},function(module,exports,__webpack_require__){module.exports=__webpack_require__(135)()},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){var root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};exports.nodeType?root._=_:(!module.nodeType&&module.exports&&(exports=module.exports=_),exports._=_),_.VERSION="1.9.1";var builtinIteratee,optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return _.iteratee!==builtinIteratee?_.iteratee(value,context):null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)&&!_.isArray(value)?_.matcher(value):_.property(value)};_.iteratee=builtinIteratee=function(value,context){return cb(value,context,1/0)};var restArguments=function(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;index<length;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}var args=Array(startIndex+1);for(index=0;index<startIndex;index++)args[index]=arguments[index];return args[startIndex]=rest,func.apply(this,args)}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},shallowProperty=function(key){return function(obj){return null==obj?void 0:obj[key]}},has=function(obj,path){return null!=obj&&hasOwnProperty.call(obj,path)},deepGet=function(obj,path){for(var length=path.length,i=0;i<length;i++){if(null==obj)return;obj=obj[path[i]]}return length?obj:void 0},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=shallowProperty("length"),isArrayLike=function(collection){var length=getLength(collection);return"number"==typeof length&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){var i,length;if(iteratee=optimizeCb(iteratee,context),isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results};var createReduce=function(dir){return function(obj,iteratee,memo,context){var initial=arguments.length>=3;return function(obj,iteratee,memo,initial){var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;for(initial||(memo=obj[keys?keys[index]:index],index+=dir);index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}(obj,optimizeCb(iteratee,context,4),memo,initial)}};_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key=(isArrayLike(obj)?_.findIndex:_.findKey)(obj,predicate,context);if(void 0!==key&&-1!==key)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=_.values(obj)),("number"!=typeof fromIndex||guard)&&(fromIndex=0),_.indexOf(obj,item,fromIndex)>=0},_.invoke=restArguments(function(obj,path,args){var contextPath,func;return _.isFunction(path)?func=path:_.isArray(path)&&(contextPath=path.slice(0,-1),path=path[path.length-1]),_.map(obj,function(context){var method=func;if(!method){if(contextPath&&contextPath.length&&(context=deepGet(context,contextPath)),null==context)return;method=context[path]}return null==method?method:method.apply(context,args)})}),_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-1/0,lastComputed=-1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:_.values(obj)).length;i<length;i++)null!=(value=obj[i])&&value>result&&(result=value);else iteratee=cb(iteratee,context),_.each(obj,function(v,index,list){((computed=iteratee(v,index,list))>lastComputed||computed===-1/0&&result===-1/0)&&(result=v,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:_.values(obj)).length;i<length;i++)null!=(value=obj[i])&&value<result&&(result=value);else iteratee=cb(iteratee,context),_.each(obj,function(v,index,list){((computed=iteratee(v,index,list))<lastComputed||computed===1/0&&result===1/0)&&(result=v,lastComputed=computed)});return result},_.shuffle=function(obj){return _.sample(obj,1/0)},_.sample=function(obj,n,guard){if(null==n||guard)return isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)];var sample=isArrayLike(obj)?_.clone(obj):_.values(obj),length=getLength(sample);n=Math.max(Math.min(n,length),0);for(var last=length-1,index=0;index<n;index++){var rand=_.random(index,last),temp=sample[index];sample[index]=sample[rand],sample[rand]=temp}return sample.slice(0,n)},_.sortBy=function(obj,iteratee,context){var index=0;return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,key,list){return{value:value,index:index++,criteria:iteratee(value,key,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior,partition){return function(obj,iteratee,context){var result=partition?[[],[]]:{};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){has(result,key)?result[key]++:result[key]=1});var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):_.isString(obj)?obj.match(reStrSymbol):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=group(function(result,value,pass){result[pass?0:1].push(value)},!0),_.first=_.head=_.take=function(array,n,guard){return null==array||array.length<1?null==n?void 0:[]:null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){return null==array||array.length<1?null==n?void 0:[]:null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,Boolean)};var flatten=function(input,shallow,strict,output){for(var idx=(output=output||[]).length,i=0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value)))if(shallow)for(var j=0,len=value.length;j<len;)output[idx++]=value[j++];else flatten(value,shallow,strict,output),idx=output.length;else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=restArguments(function(array,otherArrays){return _.difference(array,otherArrays)}),_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted&&!iteratee?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=restArguments(function(arrays){return _.uniq(flatten(arrays,!0,!0))}),_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!_.contains(result,item)){var j;for(j=1;j<argsLength&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=restArguments(function(array,rest){return rest=flatten(rest,!0,!0),_.filter(array,function(value){return!_.contains(rest,value)})}),_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.zip=restArguments(_.unzip),_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result};var createPredicateIndexFinder=function(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=dir>0?0:length-1;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}};_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){for(var value=(iteratee=cb(iteratee,context,1))(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low};var createIndexFinder=function(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return array[idx=sortedIndex(array,item)]===item?idx:-1;if(item!=item)return(idx=predicateFind(slice.call(array,i,length),_.isNaN))>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}};_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){null==stop&&(stop=start||0,start=0),step||(step=stop<start?-1:1);for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range},_.chunk=function(array,count){if(null==count||count<1)return[];for(var result=[],i=0,length=array.length;i<length;)result.push(slice.call(array,i,i+=count));return result};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=restArguments(function(func,context,args){if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var bound=restArguments(function(callArgs){return executeBound(func,bound,context,this,args.concat(callArgs))});return bound}),_.partial=restArguments(function(func,boundArgs){var placeholder=_.partial.placeholder,bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===placeholder?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound}),_.partial.placeholder=_,_.bindAll=restArguments(function(obj,keys){var index=(keys=flatten(keys,!1,!1)).length;if(index<1)throw new Error("bindAll must be passed function names");for(;index--;){var key=keys[index];obj[key]=_.bind(obj[key],obj)}}),_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=restArguments(function(func,wait,args){return setTimeout(function(){return func.apply(null,args)},wait)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var timeout,context,args,result,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)},throttled=function(){var now=_.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result};return throttled.cancel=function(){clearTimeout(timeout),previous=0,timeout=context=args=null},throttled},_.debounce=function(func,wait,immediate){var timeout,result,later=function(context,args){timeout=null,args&&(result=func.apply(context,args))},debounced=restArguments(function(args){if(timeout&&clearTimeout(timeout),immediate){var callNow=!timeout;timeout=setTimeout(later,wait),callNow&&(result=func.apply(this,args))}else timeout=_.delay(later,wait,this,args);return result});return debounced.cancel=function(){clearTimeout(timeout),timeout=null},debounced},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}},_.once=_.partial(_.before,2),_.restArguments=restArguments;var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],collectNonEnumProps=function(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)(prop=nonEnumerableProps[nonEnumIdx])in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)};_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=_.keys(obj),length=keys.length,results={},index=0;index<length;index++){var currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()};var createAssigner=function(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults&&(obj=Object(obj)),length<2||null==obj)return obj;for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];defaults&&void 0!==obj[key]||(obj[key]=source[key])}return obj}};_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(predicate(obj[key=keys[i]],key,obj))return key};var eq,deepEq,keyInObj=function(value,key,obj){return key in obj};_.pick=restArguments(function(obj,keys){var result={},iteratee=keys[0];if(null==obj)return result;_.isFunction(iteratee)?(keys.length>1&&(iteratee=optimizeCb(iteratee,keys[1])),keys=_.allKeys(obj)):(iteratee=keyInObj,keys=flatten(keys,!1,!1),obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result}),_.omit=restArguments(function(obj,keys){var context,iteratee=keys[0];return _.isFunction(iteratee)?(iteratee=_.negate(iteratee),keys.length>1&&(context=keys[1])):(keys=_.map(flatten(keys,!1,!1),String),iteratee=function(value,key){return!_.contains(keys,key)}),_.pick(obj,iteratee,context)}),_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0},eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!=a)return b!=b;var type=typeof a;return("function"===type||"object"===type||"object"==typeof b)&&deepEq(a,b,aStack,bStack)},deepEq=function(a,b,aStack,bStack){a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return SymbolProto.valueOf.call(a)===SymbolProto.valueOf.call(b)}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}bStack=bStack||[];for(var length=(aStack=aStack||[]).length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if((length=a.length)!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0},_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj||(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length)},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return has(obj,"callee")});var nodelist=root.document&&root.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return!_.isSymbol(obj)&&isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&isNaN(obj)},_.isBoolean=function(obj){return!0===obj||!1===obj||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,path){if(!_.isArray(path))return has(obj,path);for(var length=path.length,i=0;i<length;i++){var key=path[i];if(null==obj||!hasOwnProperty.call(obj,key))return!1;obj=obj[key]}return!!length},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=function(path){return _.isArray(path)?function(obj){return deepGet(obj,path)}:shallowProperty(path)},_.propertyOf=function(obj){return null==obj?function(){}:function(path){return _.isArray(path)?deepGet(obj,path):obj[path]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(obj,path,fallback){_.isArray(path)||(path=[path]);var length=path.length;if(!length)return _.isFunction(fallback)?fallback.call(obj):fallback;for(var i=0;i<length;i++){var prop=null==obj?void 0:obj[path[i]];void 0===prop&&(prop=fallback,i=length),obj=_.isFunction(prop)?prop.call(obj):prop}return obj};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var render,matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escapeRegExp,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var chainResult=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){return _.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),chainResult(this,func.apply(_,args))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],chainResult(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return chainResult(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(this,__webpack_require__(98),__webpack_require__(99)(module))},function(module,exports){module.exports=function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}},function(module,exports){var core=module.exports={version:"2.6.0"};"number"==typeof __e&&(__e=core)},function(module,exports){module.exports=MailPoetLib.Hooks},function(module,exports,__webpack_require__){var _Object$defineProperty=__webpack_require__(65);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),_Object$defineProperty(target,descriptor.key,descriptor)}}module.exports=function(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}},function(module,exports){module.exports=MailPoetLib.ReactRouter},function(module,exports){module.exports=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(106),assertThisInitialized=__webpack_require__(4);module.exports=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?assertThisInitialized(self):call}},function(module,exports,__webpack_require__){var _Object$getPrototypeOf=__webpack_require__(125),_Object$setPrototypeOf=__webpack_require__(76);function _getPrototypeOf(o){return module.exports=_getPrototypeOf=_Object$setPrototypeOf?_Object$getPrototypeOf:function(o){return o.__proto__||_Object$getPrototypeOf(o)},_getPrototypeOf(o)}module.exports=_getPrototypeOf},function(module,exports,__webpack_require__){var _Object$create=__webpack_require__(131),setPrototypeOf=__webpack_require__(134);module.exports=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=_Object$create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&setPrototypeOf(subClass,superClass)}},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){var store=__webpack_require__(53)("wks"),uid=__webpack_require__(40),Symbol=__webpack_require__(13).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){var global=__webpack_require__(13),core=__webpack_require__(5),ctx=__webpack_require__(27),hide=__webpack_require__(23),has=__webpack_require__(24),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;for(key in IS_GLOBAL&&(source=name),source)(own=!IS_FORCED&&target&&void 0!==target[key])&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){module.exports=__webpack_require__(100)},function(module,exports){module.exports=MailPoetLib.FormFieldSelection},function(module,exports,__webpack_require__){var anObject=__webpack_require__(19),IE8_DOM_DEFINE=__webpack_require__(63),toPrimitive=__webpack_require__(48),dP=Object.defineProperty;exports.f=__webpack_require__(21)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(20);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(163)},function(module,exports,__webpack_require__){var dP=__webpack_require__(18),createDesc=__webpack_require__(31);module.exports=__webpack_require__(21)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(112),defined=__webpack_require__(37);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__(145),iterableToArray=__webpack_require__(149),nonIterableSpread=__webpack_require__(157);module.exports=function(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||nonIterableSpread()}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(36);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){module.exports={}},function(module,exports){module.exports=MailPoetLib.Listing},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){module.exports=!0},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var _Object$defineProperty=__webpack_require__(65);module.exports=function(obj,key,value){return key in obj?_Object$defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports){module.exports=MailPoetLib.ReactStringReplace},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(109)(!0);__webpack_require__(66)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var $keys=__webpack_require__(68),enumBugKeys=__webpack_require__(54);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var def=__webpack_require__(18).f,has=__webpack_require__(24),TAG=__webpack_require__(14)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var defined=__webpack_require__(37);module.exports=function(it){return Object(defined(it))}},function(module,exports){module.exports=MailPoetLib.AutomaticEmailsBreadcrumb},function(module,exports){module.exports=MailPoetLib.StatsBadge},function(module,exports,__webpack_require__){var _Object$getOwnPropertyDescriptor=__webpack_require__(137),_Object$getOwnPropertySymbols=__webpack_require__(140),_Object$keys=__webpack_require__(142),defineProperty=__webpack_require__(34);module.exports=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=_Object$keys(source);"function"==typeof _Object$getOwnPropertySymbols&&(ownKeys=ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function(sym){return _Object$getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){defineProperty(target,key,source[key])})}return target}},function(module,exports){module.exports=MailPoetLib.NewslettersListingsMixins},function(module,exports,__webpack_require__){var isObject=__webpack_require__(20),document=__webpack_require__(13).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(20);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(19),dPs=__webpack_require__(111),enumBugKeys=__webpack_require__(54),IE_PROTO=__webpack_require__(52)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(47)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(69).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(49),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var shared=__webpack_require__(53)("keys"),uid=__webpack_require__(40);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(5),global=__webpack_require__(13),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(32)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){__webpack_require__(115);for(var global=__webpack_require__(13),hide=__webpack_require__(23),Iterators=__webpack_require__(29),TO_STRING_TAG=__webpack_require__(14)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(14)},function(module,exports,__webpack_require__){var global=__webpack_require__(13),core=__webpack_require__(5),LIBRARY=__webpack_require__(32),wksExt=__webpack_require__(56),defineProperty=__webpack_require__(18).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var pIE=__webpack_require__(58),createDesc=__webpack_require__(31),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(48),has=__webpack_require__(24),IE8_DOM_DEFINE=__webpack_require__(63),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(21)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){var $export=__webpack_require__(15),core=__webpack_require__(5),fails=__webpack_require__(28);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var cof=__webpack_require__(33),TAG=__webpack_require__(14)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(36);function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(21)&&!__webpack_require__(28)(function(){return 7!=Object.defineProperty(__webpack_require__(47)("div"),"a",{get:function(){return 7}}).a})},function(module,exports){module.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(module,exports,__webpack_require__){module.exports=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(32),$export=__webpack_require__(15),redefine=__webpack_require__(67),hide=__webpack_require__(23),Iterators=__webpack_require__(29),$iterCreate=__webpack_require__(110),setToStringTag=__webpack_require__(41),getPrototypeOf=__webpack_require__(70),ITERATOR=__webpack_require__(14)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(23)},function(module,exports,__webpack_require__){var has=__webpack_require__(24),toIObject=__webpack_require__(25),arrayIndexOf=__webpack_require__(113)(!1),IE_PROTO=__webpack_require__(52)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var document=__webpack_require__(13).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var has=__webpack_require__(24),toObject=__webpack_require__(42),IE_PROTO=__webpack_require__(52)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),has=__webpack_require__(24),DESCRIPTORS=__webpack_require__(21),$export=__webpack_require__(15),redefine=__webpack_require__(67),META=__webpack_require__(120).KEY,$fails=__webpack_require__(28),shared=__webpack_require__(53),setToStringTag=__webpack_require__(41),uid=__webpack_require__(40),wks=__webpack_require__(14),wksExt=__webpack_require__(56),wksDefine=__webpack_require__(57),enumKeys=__webpack_require__(121),isArray=__webpack_require__(73),anObject=__webpack_require__(19),isObject=__webpack_require__(20),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(48),createDesc=__webpack_require__(31),_create=__webpack_require__(50),gOPNExt=__webpack_require__(122),$GOPD=__webpack_require__(59),$DP=__webpack_require__(18),$keys=__webpack_require__(39),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(74).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(58).f=$propertyIsEnumerable,__webpack_require__(72).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(32)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(23)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var cof=__webpack_require__(33);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(68),hiddenKeys=__webpack_require__(54).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__(128)},function(module,exports,__webpack_require__){var anObject=__webpack_require__(19);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(29),ITERATOR=__webpack_require__(14)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(61),ITERATOR=__webpack_require__(14)("iterator"),Iterators=__webpack_require__(29);module.exports=__webpack_require__(5).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(14)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(19),aFunction=__webpack_require__(36),SPECIES=__webpack_require__(14)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(27),invoke=__webpack_require__(167),html=__webpack_require__(69),cel=__webpack_require__(47),global=__webpack_require__(13),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(33)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(19),isObject=__webpack_require__(20),newPromiseCapability=__webpack_require__(62);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports){module.exports=MailPoetLib.AutomaticEmailEventsList},function(module,exports,__webpack_require__){module.exports=__webpack_require__(158)},function(module,exports){module.exports=MailPoetLib.FormFieldText},function(module,exports){module.exports=MailPoetLib.NewsletterSchedulingCommonOptions},function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__(1),factory=__webpack_require__(159);if(void 0===React)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var ReactNoopUpdateQueue=(new React.Component).updater;module.exports=factory(React.Component,React.isValidElement,ReactNoopUpdateQueue)},function(module,exports){module.exports=MailPoetLib.NewslettersListingsTabs},function(module,exports){module.exports=MailPoetLib.NewslettersListingsHeading},function(module,exports){module.exports=MailPoetLib.FeatureAnnouncement},function(module,exports){module.exports=MailPoetLib.ClassNames},function(module,exports){module.exports=MailPoetLib.ReactDOM},function(module,exports){module.exports=MailPoetLib.Form},function(module,exports,__webpack_require__){__webpack_require__(97),__webpack_require__(175),__webpack_require__(174),module.exports=__webpack_require__(176)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),underscore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),underscore__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_1__),mailpoet__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),mailpoet__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(mailpoet__WEBPACK_IMPORTED_MODULE_2__),wp_js_hooks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),wp_js_hooks__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(wp_js_hooks__WEBPACK_IMPORTED_MODULE_3__),react_string_replace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35),react_string_replace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_string_replace__WEBPACK_IMPORTED_MODULE_4__),trackCampaignNameTyped=underscore__WEBPACK_IMPORTED_MODULE_1___default.a.once(function(){return mailpoet__WEBPACK_IMPORTED_MODULE_2___default.a.trackEvent("User has typed a GA campaign name",{"MailPoet Premium version":window.mailpoet_premium_version})});wp_js_hooks__WEBPACK_IMPORTED_MODULE_3___default.a.addFilter("mailpoet_newsletters_3rd_step_fields",function(fields){var tip=react_string_replace__WEBPACK_IMPORTED_MODULE_4___default()(mailpoet__WEBPACK_IMPORTED_MODULE_2___default.a.I18n.t("gaCampaignTip"),/\[link\](.*?)\[\/link\]/g,function(match,i){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{key:i,href:"http://beta.docs.mailpoet.com/article/187-track-your-newsletters-subscribers-in-google-analytics",target:"_blank",rel:"noopener noreferrer"},match)});return fields.push({name:"ga_campaign",label:mailpoet__WEBPACK_IMPORTED_MODULE_2___default.a.I18n.t("gaCampaignLine"),tip:tip,type:"text",onBeforeChange:trackCampaignNameTyped}),fields})},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){__webpack_require__(101),module.exports=__webpack_require__(5).parseInt},function(module,exports,__webpack_require__){var $export=__webpack_require__(15),$parseInt=__webpack_require__(102);$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},function(module,exports,__webpack_require__){var $parseInt=__webpack_require__(13).parseInt,$trim=__webpack_require__(103).trim,ws=__webpack_require__(64),hex=/^[-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},function(module,exports,__webpack_require__){var $export=__webpack_require__(15),defined=__webpack_require__(37),fails=__webpack_require__(28),spaces=__webpack_require__(64),space="["+spaces+"]",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||"​"!="​"[KEY]()}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},function(module,exports,__webpack_require__){__webpack_require__(105);var $Object=__webpack_require__(5).Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(15);$export($export.S+$export.F*!__webpack_require__(21),"Object",{defineProperty:__webpack_require__(18).f})},function(module,exports,__webpack_require__){var _Symbol$iterator=__webpack_require__(107),_Symbol=__webpack_require__(118);function _typeof2(obj){return(_typeof2="function"==typeof _Symbol&&"symbol"==typeof _Symbol$iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _Symbol&&obj.constructor===_Symbol&&obj!==_Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return"function"==typeof _Symbol&&"symbol"===_typeof2(_Symbol$iterator)?module.exports=_typeof=function(obj){return _typeof2(obj)}:module.exports=_typeof=function(obj){return obj&&"function"==typeof _Symbol&&obj.constructor===_Symbol&&obj!==_Symbol.prototype?"symbol":_typeof2(obj)},_typeof(obj)}module.exports=_typeof},function(module,exports,__webpack_require__){module.exports=__webpack_require__(108)},function(module,exports,__webpack_require__){__webpack_require__(38),__webpack_require__(55),module.exports=__webpack_require__(56).f("iterator")},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(49),defined=__webpack_require__(37);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(50),descriptor=__webpack_require__(31),setToStringTag=__webpack_require__(41),IteratorPrototype={};__webpack_require__(23)(IteratorPrototype,__webpack_require__(14)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var dP=__webpack_require__(18),anObject=__webpack_require__(19),getKeys=__webpack_require__(39);module.exports=__webpack_require__(21)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var cof=__webpack_require__(33);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),toLength=__webpack_require__(51),toAbsoluteIndex=__webpack_require__(114);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(49),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(116),step=__webpack_require__(117),Iterators=__webpack_require__(29),toIObject=__webpack_require__(25);module.exports=__webpack_require__(66)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(119)},function(module,exports,__webpack_require__){__webpack_require__(71),__webpack_require__(75),__webpack_require__(123),__webpack_require__(124),module.exports=__webpack_require__(5).Symbol},function(module,exports,__webpack_require__){var META=__webpack_require__(40)("meta"),isObject=__webpack_require__(20),has=__webpack_require__(24),setDesc=__webpack_require__(18).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(28)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(39),gOPS=__webpack_require__(72),pIE=__webpack_require__(58);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),gOPN=__webpack_require__(74).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(57)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(57)("observable")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(126)},function(module,exports,__webpack_require__){__webpack_require__(127),module.exports=__webpack_require__(5).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(42),$getPrototypeOf=__webpack_require__(70);__webpack_require__(60)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){__webpack_require__(129),module.exports=__webpack_require__(5).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(15);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(130).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(20),anObject=__webpack_require__(19),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(27)(Function.call,__webpack_require__(59).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(132)},function(module,exports,__webpack_require__){__webpack_require__(133);var $Object=__webpack_require__(5).Object;module.exports=function(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(15);$export($export.S,"Object",{create:__webpack_require__(50)})},function(module,exports,__webpack_require__){var _Object$setPrototypeOf=__webpack_require__(76);function _setPrototypeOf(o,p){return module.exports=_setPrototypeOf=_Object$setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}module.exports=_setPrototypeOf},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(136);function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(module,exports,__webpack_require__){module.exports=__webpack_require__(138)},function(module,exports,__webpack_require__){__webpack_require__(139);var $Object=__webpack_require__(5).Object;module.exports=function(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),$getOwnPropertyDescriptor=__webpack_require__(59).f;__webpack_require__(60)("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(141)},function(module,exports,__webpack_require__){__webpack_require__(71),module.exports=__webpack_require__(5).Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){module.exports=__webpack_require__(143)},function(module,exports,__webpack_require__){__webpack_require__(144),module.exports=__webpack_require__(5).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(42),$keys=__webpack_require__(39);__webpack_require__(60)("keys",function(){return function(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var _Array$isArray=__webpack_require__(146);module.exports=function(arr){if(_Array$isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(147)},function(module,exports,__webpack_require__){__webpack_require__(148),module.exports=__webpack_require__(5).Array.isArray},function(module,exports,__webpack_require__){var $export=__webpack_require__(15);$export($export.S,"Array",{isArray:__webpack_require__(73)})},function(module,exports,__webpack_require__){var _Array$from=__webpack_require__(150),_isIterable=__webpack_require__(154);module.exports=function(iter){if(_isIterable(Object(iter))||"[object Arguments]"===Object.prototype.toString.call(iter))return _Array$from(iter)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(151)},function(module,exports,__webpack_require__){__webpack_require__(38),__webpack_require__(152),module.exports=__webpack_require__(5).Array.from},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(27),$export=__webpack_require__(15),toObject=__webpack_require__(42),call=__webpack_require__(77),isArrayIter=__webpack_require__(78),toLength=__webpack_require__(51),createProperty=__webpack_require__(153),getIterFn=__webpack_require__(79);$export($export.S+$export.F*!__webpack_require__(80)(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(18),createDesc=__webpack_require__(31);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(155)},function(module,exports,__webpack_require__){__webpack_require__(55),__webpack_require__(38),module.exports=__webpack_require__(156)},function(module,exports,__webpack_require__){var classof=__webpack_require__(61),ITERATOR=__webpack_require__(14)("iterator"),Iterators=__webpack_require__(29);module.exports=__webpack_require__(5).isIterable=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},function(module,exports){module.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(module,exports,__webpack_require__){var core=__webpack_require__(5),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){"use strict";var _assign=__webpack_require__(160),emptyObject=__webpack_require__(161),_invariant=__webpack_require__(162),MIXINS_KEY="mixins";module.exports=function(ReactComponent,isValidElement,ReactNoopUpdateQueue){var injectedMixins=[],ReactClassInterface={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},ReactClassStaticInterface={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){!function(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;_invariant(!isReserved,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name);var isAlreadyDefined=name in Constructor;if(isAlreadyDefined){var specPolicy=ReactClassStaticInterface.hasOwnProperty(name)?ReactClassStaticInterface[name]:null;return _invariant("DEFINE_MANY_MERGED"===specPolicy,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name),void(Constructor[name]=createMergedResultFunction(Constructor[name],property))}Constructor[name]=property}}}(Constructor,statics)},autobind:function(){}};function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&_invariant("OVERRIDE_BASE"===specPolicy,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name),isAlreadyDefined&&_invariant("DEFINE_MANY"===specPolicy||"DEFINE_MANY_MERGED"===specPolicy,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name)}function mixSpecIntoComponent(Constructor,spec){if(spec){_invariant("function"!=typeof spec,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),_invariant(!isValidElement(spec),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var proto=Constructor.prototype,autoBindPairs=proto.__reactAutoBindPairs;for(var name in spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins),spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name],isAlreadyDefined=proto.hasOwnProperty(name);if(validateMethodOverride(isAlreadyDefined,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name);if("function"!=typeof property||isReactClassMethod||isAlreadyDefined||!1===spec.autobind)if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];_invariant(isReactClassMethod&&("DEFINE_MANY_MERGED"===specPolicy||"DEFINE_MANY"===specPolicy),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name),"DEFINE_MANY_MERGED"===specPolicy?proto[name]=createMergedResultFunction(proto[name],property):"DEFINE_MANY"===specPolicy&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property;else autoBindPairs.push(name,property),proto[name]=property}}}}function mergeIntoWithNoDuplicateKeys(one,two){for(var key in _invariant(one&&two&&"object"==typeof one&&"object"==typeof two,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),two)two.hasOwnProperty(key)&&(_invariant(void 0===one[key],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key),one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){return method.bind(component)}var IsMountedPreMixin={componentDidMount:function(){this.__isMounted=!0}},IsMountedPostMixin={componentWillUnmount:function(){this.__isMounted=!1}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState,callback)},isMounted:function(){return!!this.__isMounted}},ReactClassComponent=function(){};return _assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin),function(spec){var Constructor=function(props,context,updater){this.__reactAutoBindPairs.length&&function(component){for(var pairs=component.__reactAutoBindPairs,i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i],method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;_invariant("object"==typeof initialState&&!Array.isArray(initialState),"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"),this.state=initialState};for(var methodName in Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,Constructor.prototype.__reactAutoBindPairs=[],injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,IsMountedPreMixin),mixSpecIntoComponent(Constructor,spec),mixSpecIntoComponent(Constructor,IsMountedPostMixin),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),_invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method."),ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor}}},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=function(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){"use strict";module.exports={}},function(module,exports,__webpack_require__){"use strict";var validateFormat=function(format){};module.exports=function(condition,format,a,b,c,d,e,f){if(validateFormat(format),!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;(error=new Error(format.replace(/%s/g,function(){return args[argIndex++]}))).name="Invariant Violation"}throw error.framesToPop=1,error}}},function(module,exports,__webpack_require__){__webpack_require__(75),__webpack_require__(38),__webpack_require__(55),__webpack_require__(164),__webpack_require__(172),__webpack_require__(173),module.exports=__webpack_require__(5).Promise},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(32),global=__webpack_require__(13),ctx=__webpack_require__(27),classof=__webpack_require__(61),$export=__webpack_require__(15),isObject=__webpack_require__(20),aFunction=__webpack_require__(36),anInstance=__webpack_require__(165),forOf=__webpack_require__(166),speciesConstructor=__webpack_require__(81),task=__webpack_require__(82).set,microtask=__webpack_require__(168)(),newPromiseCapabilityModule=__webpack_require__(62),perform=__webpack_require__(83),userAgent=__webpack_require__(169),promiseResolve=__webpack_require__(84),TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(14)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=__webpack_require__(170)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(41)($Promise,"Promise"),__webpack_require__(171)("Promise"),Wrapper=__webpack_require__(5).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(80)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(27),call=__webpack_require__(77),isArrayIter=__webpack_require__(78),anObject=__webpack_require__(19),toLength=__webpack_require__(51),getIterFn=__webpack_require__(79),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(13),macrotask=__webpack_require__(82).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(33)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){var navigator=__webpack_require__(13).navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__webpack_require__){var hide=__webpack_require__(23);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),core=__webpack_require__(5),dP=__webpack_require__(18),DESCRIPTORS=__webpack_require__(21),SPECIES=__webpack_require__(14)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(15),core=__webpack_require__(5),global=__webpack_require__(13),speciesConstructor=__webpack_require__(81),promiseResolve=__webpack_require__(84);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(15),newPromiseCapability=__webpack_require__(62),perform=__webpack_require__(83);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var objectSpread=__webpack_require__(45),objectSpread_default=__webpack_require__.n(objectSpread),toConsumableArray=__webpack_require__(26),toConsumableArray_default=__webpack_require__.n(toConsumableArray),external_MailPoetLib_React_=__webpack_require__(1),external_MailPoetLib_React_default=__webpack_require__.n(external_MailPoetLib_React_),underscore=__webpack_require__(3),underscore_default=__webpack_require__.n(underscore),external_MailPoetLib_Hooks_=__webpack_require__(6),external_MailPoetLib_Hooks_default=__webpack_require__.n(external_MailPoetLib_Hooks_),external_MailPoet_=__webpack_require__(0),external_MailPoet_default=__webpack_require__.n(external_MailPoet_),external_MailPoetLib_AutomaticEmailEventsList_=__webpack_require__(85),external_MailPoetLib_AutomaticEmailEventsList_default=__webpack_require__.n(external_MailPoetLib_AutomaticEmailEventsList_),stringify=__webpack_require__(86),stringify_default=__webpack_require__.n(stringify),classCallCheck=__webpack_require__(9),classCallCheck_default=__webpack_require__.n(classCallCheck),possibleConstructorReturn=__webpack_require__(10),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(11),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),createClass=__webpack_require__(7),createClass_default=__webpack_require__.n(createClass),inherits=__webpack_require__(12),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(4),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),external_MailPoetLib_FormFieldSelection_=__webpack_require__(17),external_MailPoetLib_FormFieldSelection_default=__webpack_require__.n(external_MailPoetLib_FormFieldSelection_),external_MailPoetLib_AutomaticEmailsBreadcrumb_=__webpack_require__(43),external_MailPoetLib_AutomaticEmailsBreadcrumb_default=__webpack_require__.n(external_MailPoetLib_AutomaticEmailsBreadcrumb_),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),events_list_getEventsList=function(events){var filteredEvents=underscore_default.a.filter(events,function(event){return!event.soon});return underscore_default.a.map(filteredEvents,function(event){return{id:event.slug,name:event.title}})},events_list_EventsList=function(_React$Component){function EventsList(props){var _this;return classCallCheck_default()(this,EventsList),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(EventsList).call(this,props))).handleEventChange=_this.handleEventChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this}return inherits_default()(EventsList,_React$Component),createClass_default()(EventsList,[{key:"displayEventsList",value:function(_ref){var events=_ref.events,selectedEvent=_ref.selectedEvent,disabled=_ref.disabled,props={field:{id:"events_list",name:"events_list",selected:function(){return selectedEvent},forceSelect2:!0,values:events_list_getEventsList(events),extendSelect2Options:{minimumResultsForSearch:1/0}},disabled:disabled,onValueChange:this.handleEventChange};return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldSelection_default.a,props)}},{key:"handleEventChange",value:function(e){var onValueChange=this.props.onValueChange;onValueChange&&onValueChange({eventSlug:e.target.value})}},{key:"render",value:function(){return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("div",{className:"event-selection"},this.displayEventsList(this.props)))}}]),EventsList}(external_MailPoetLib_React_default.a.Component);events_list_EventsList.propTypes={events:prop_types_default.a.object.isRequired,selectedEvent:prop_types_default.a.string.isRequired,disabled:prop_types_default.a.bool,onValueChange:prop_types_default.a.func},events_list_EventsList.defaultProps={disabled:!1,onValueChange:null};var events_list=events_list_EventsList,defineProperty=__webpack_require__(34),defineProperty_default=__webpack_require__.n(defineProperty),parse_int=__webpack_require__(16),parse_int_default=__webpack_require__.n(parse_int),external_MailPoetLib_FormFieldText_=__webpack_require__(87),external_MailPoetLib_FormFieldText_default=__webpack_require__.n(external_MailPoetLib_FormFieldText_),external_MailPoetLib_NewsletterSchedulingCommonOptions_=__webpack_require__(88),defaultAfterTimeType="immediate",defaultAfterTimeNumber=1,event_scheduling_EventScheduling=function(_React$Component){function EventScheduling(props){var _this;classCallCheck_default()(this,EventScheduling);var item=(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(EventScheduling).call(this,props))).props.item;return _this.handleChange=_this.handleChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.state={afterTimeType:item.afterTimeType||defaultAfterTimeType,afterTimeNumber:item.afterTimeNumber||defaultAfterTimeNumber},_this}return inherits_default()(EventScheduling,_React$Component),createClass_default()(EventScheduling,[{key:"displayAfterTimeNumberField",value:function(){var afterTimeNumberSize=this.props.afterTimeNumberSize,_this$state=this.state,afterTimeType=_this$state.afterTimeType,afterTimeNumber=_this$state.afterTimeNumber;if("immediate"===afterTimeType)return null;var props={field:{id:"scheduling_time_duration",defaultValue:afterTimeNumber,size:afterTimeNumberSize},onValueChange:underscore_default.a.partial(this.handleChange,underscore_default.a,"afterTimeNumber")};return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldText_default.a,props)}},{key:"displayAfterTimeTypeOptions",value:function(){var afterTimeType=this.state.afterTimeType,props={field:{id:"scheduling_time_interval",name:"scheduling_time_interval",forceSelect2:!0,values:underscore_default.a.map(external_MailPoetLib_NewsletterSchedulingCommonOptions_.timeDelayValues,function(name,id){return{name:name,id:id}}),extendSelect2Options:{minimumResultsForSearch:1/0},selected:function(){return afterTimeType}},onValueChange:underscore_default.a.partial(this.handleChange,underscore_default.a,"afterTimeType")};return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldSelection_default.a,props)}},{key:"handleChange",value:function(e,property){var value="afterTimeNumber"===property?parse_int_default()(e.target.value,10):e.target.value,data=defineProperty_default()({},property,value);this.setState(data,this.propagateChange(data))}},{key:"propagateChange",value:function(data){var onValueChange=this.props.onValueChange;onValueChange&&onValueChange(data)}},{key:"render",value:function(){return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("div",{className:"event-scheduling-time-duration-selection"},this.displayAfterTimeNumberField()),external_MailPoetLib_React_default.a.createElement("div",{className:"event-scheduling-time-interval-selection"},this.displayAfterTimeTypeOptions()))}}]),EventScheduling}(external_MailPoetLib_React_default.a.Component);event_scheduling_EventScheduling.propTypes={item:prop_types_default.a.object.isRequired,afterTimeNumberSize:prop_types_default.a.number,onValueChange:prop_types_default.a.func},event_scheduling_EventScheduling.defaultProps={afterTimeNumberSize:3,onValueChange:null};var event_scheduling=event_scheduling_EventScheduling,event_options_EventOptions=function(_React$Component){function EventOptions(props){var _this;return classCallCheck_default()(this,EventOptions),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(EventOptions).call(this,props))).handleEventOptionChange=_this.handleEventOptionChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this}return inherits_default()(EventOptions,_React$Component),createClass_default()(EventOptions,null,[{key:"getEventOptionsValues",value:function(eventOptions){var values=eventOptions&&eventOptions.values?eventOptions.values:[];return values?values.map(function(value){return{id:value.id,name:value.name}}):values}}]),createClass_default()(EventOptions,[{key:"displayEventOptions",value:function(){var _this$props=this.props,eventOptions=_this$props.eventOptions,eventSlug=_this$props.eventSlug,_selected=_this$props.selected,emailSlug=_this$props.emailSlug;if(!eventOptions)return eventOptions;var props={field:{id:"event_options_".concat(eventSlug),name:"event_options_".concat(eventSlug),forceSelect2:!0,resetSelect2OnUpdate:!0,values:this.constructor.getEventOptionsValues(eventOptions),multiple:eventOptions.multiple||!1,placeholder:eventOptions.placeholder||!1,extendSelect2Options:{minimumResultsForSearch:1/0},transformChangedValue:function(value,valueTextPair){return underscore_default.a.map(valueTextPair,function(data){return{id:data.id,name:data.text}})},selected:function(){return _selected}},onValueChange:this.handleEventOptionChange};return"remote"===eventOptions.type&&(props.field=underscore_default.a.extend(props.field,{remoteQuery:{minimumInputLength:eventOptions.remoteQueryMinimumInputLength||null,endpoint:"automatic_emails",method:"get_event_options",data:{filter:eventOptions.remoteQueryFilter||null,email_slug:emailSlug,event_slug:eventSlug}}})),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldSelection_default.a,props)}},{key:"handleEventOptionChange",value:function(e){var onValueChange=this.props.onValueChange;onValueChange&&onValueChange({eventOptionValue:e.target.value})}},{key:"render",value:function(){return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("div",{className:"event-option-selection"},this.displayEventOptions()))}}]),EventOptions}(external_MailPoetLib_React_default.a.Component);event_options_EventOptions.propTypes={selected:prop_types_default.a.array,eventOptions:prop_types_default.a.object,eventSlug:prop_types_default.a.string.isRequired,emailSlug:prop_types_default.a.string.isRequired,onValueChange:prop_types_default.a.func},event_options_EventOptions.defaultProps={eventOptions:null,selected:[],onValueChange:null};var event_options=event_options_EventOptions,events_conditions_defaultAfterTimeType="immediate",events_conditions_EventsConditions=function(_React$Component){function EventsConditions(props){var _this;classCallCheck_default()(this,EventsConditions),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(EventsConditions).call(this,props));var email=props.email,name=props.name;_this.handleChange=_this.handleChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.handleNextStep=_this.handleNextStep.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.email=email,_this.emailEvents=_this.email.events,_this.segments=underscore_default.a.filter(window.mailpoet_segments,function(segment){return null===segment.deleted_at});var currentEvent=_this.getEvent(name),currentEventOptions=_this.constructor.getEventOptions(currentEvent),currentEventOptionValue=_this.constructor.getEventOptionsFirstValue(currentEventOptions);return _this.state={event:currentEvent,eventSlug:currentEvent.slug,eventOptionValue:currentEventOptionValue,segment:currentEvent.sendToLists?_this.constructor.getFirstSegment():null,afterTimeType:events_conditions_defaultAfterTimeType,afterTimeNumber:null},_this}return inherits_default()(EventsConditions,_React$Component),createClass_default()(EventsConditions,null,[{key:"getEventOptions",value:function(event){return event.options||null}},{key:"getEventOptionsFirstValue",value:function(eventOptions){return eventOptions&&underscore_default.a.isArray(eventOptions.values)&&eventOptions.values[0].id?eventOptions.values[0].id:null}},{key:"displayBreadcrumbs",value:function(){return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_AutomaticEmailsBreadcrumb_default.a,{step:"conditions"})}}]),createClass_default()(EventsConditions,[{key:"getEvent",value:function(eventSlug){return this.emailEvents[eventSlug]}},{key:"getFirstSegment",value:function(){return underscore_default.a.isArray(this.segments)&&this.segments[0].id?this.segments[0].id:null}},{key:"displayEventsList",value:function(){var eventSlug=this.state.eventSlug,props={events:this.emailEvents,selectedEvent:eventSlug,onValueChange:this.handleChange};return external_MailPoetLib_React_default.a.createElement(events_list,props)}},{key:"displayEventOptions",value:function(){var _this$state=this.state,eventSlug=_this$state.eventSlug,event=_this$state.event,props={emailSlug:this.email.slug,eventSlug:eventSlug,eventOptions:this.constructor.getEventOptions(event),onValueChange:this.handleChange};return external_MailPoetLib_React_default.a.createElement(event_options,props)}},{key:"displaySegments",value:function(){var _this2=this;if(!this.state.event.sendToLists)return null;var props={field:{id:"segments",forceSelect2:!0,values:this.segments,extendSelect2Options:{minimumResultsForSearch:1/0}},onValueChange:function(e){return _this2.handleChange({segment:e.target.value})}};return external_MailPoetLib_React_default.a.createElement("div",{className:"event-segment-selection"},external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldSelection_default.a,props))}},{key:"displayScheduling",value:function(){var _this$state2=this.state,props={item:{afterTimeNumber:_this$state2.afterTimeNumber,afterTimeType:_this$state2.afterTimeType},onValueChange:this.handleChange};return external_MailPoetLib_React_default.a.createElement(event_scheduling,props)}},{key:"displayEventTip",value:function(){var event=this.state.event;return event.tip?external_MailPoetLib_React_default.a.createElement("p",{className:"description"},external_MailPoetLib_React_default.a.createElement("strong",null,external_MailPoet_default.a.I18n.t("tip"))," ",event.tip):null}},{key:"handleChange",value:function(data){var _this$state3=this.state,segment=_this$state3.segment,afterTimeNumber=_this$state3.afterTimeNumber,newState=data;if(newState.eventSlug){newState.event=this.getEvent(newState.eventSlug),newState.segment=newState.event.sendToLists?segment||this.constructor.getFirstSegment():null;var eventOptions=this.constructor.getEventOptions(newState.event);newState.eventOptionValue=eventOptions?this.constructor.getEventOptionsFirstValue(eventOptions):null}newState.afterTimeType&&"immediate"===newState.afterTimeType?newState.afterTimeNumber=null:newState.afterTimeType&&!afterTimeNumber&&(newState.afterTimeNumber=1),this.setState(newState)}},{key:"handleNextStep",value:function(){var history=this.props.history,_this$state4=this.state,eventSlug=_this$state4.eventSlug,afterTimeType=_this$state4.afterTimeType,afterTimeNumber=_this$state4.afterTimeNumber,event=_this$state4.event,segment=_this$state4.segment,eventOptionValue=_this$state4.eventOptionValue,options={group:this.email.slug,event:eventSlug,afterTimeType:afterTimeType};afterTimeNumber&&(options.afterTimeNumber=afterTimeNumber),options.sendTo=event.sendToLists?"segment":"user",segment&&(options.segment=segment),eventOptionValue&&(options.meta=stringify_default()({option:eventOptionValue})),external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"newsletters",action:"create",data:{type:"automatic",subject:external_MailPoet_default.a.I18n.t("draftNewsletterTitle"),options:options}}).done(function(response){external_MailPoet_default.a.trackEvent("Emails > New Automatic Email Created",{"MailPoet Premium version":window.mailpoet_premium_version,"MailPoet Free version":window.mailpoet_version,"Event type":options.event,"Schedule type":options.afterTimeType,"Schedule value":options.afterTimeNumber}),history.push("/template/".concat(response.data.id))}).fail(function(response){response.errors.length>0&&external_MailPoet_default.a.Notice.error(response.errors.map(function(error){return error.message}),{scroll:!0})})}},{key:"render",value:function(){var heading=external_MailPoet_default.a.I18n.t("selectAutomaticEmailsEventsConditionsHeading").replace("%1s",this.email.title);return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("h1",null,heading),this.constructor.displayBreadcrumbs(),external_MailPoetLib_React_default.a.createElement("div",{className:"events-conditions-container"},external_MailPoetLib_React_default.a.createElement("div",null,this.displayEventsList()),external_MailPoetLib_React_default.a.createElement("div",null,this.displayEventOptions()),external_MailPoetLib_React_default.a.createElement("div",null,this.displaySegments()),external_MailPoetLib_React_default.a.createElement("div",null,this.displayScheduling())),external_MailPoetLib_React_default.a.createElement("p",{className:"submit"},external_MailPoetLib_React_default.a.createElement("input",{className:"button button-primary",type:"button",onClick:this.handleNextStep,value:external_MailPoet_default.a.I18n.t("next")})),this.displayEventTip())}}]),EventsConditions}(external_MailPoetLib_React_default.a.Component);events_conditions_EventsConditions.propTypes={history:prop_types_default.a.shape({push:prop_types_default.a.func.isRequired}).isRequired,name:prop_types_default.a.string.isRequired,email:prop_types_default.a.shape({title:prop_types_default.a.string.isRequired,slug:prop_types_default.a.string.isRequired}).isRequired,location:prop_types_default.a.object.isRequired};var events_conditions=events_conditions_EventsConditions,send_event_conditions_defaultAfterTimeType="immediate",send_event_conditions_defaultAfterTimeNumber=1,send_event_conditions_SendEventConditions=function(_React$Component){function SendEventConditions(props){var _this;classCallCheck_default()(this,SendEventConditions),_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(SendEventConditions).call(this,props));var field=props.field;return _this.handleChange=_this.handleChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.email=field.email,_this.emailOptions=field.emailOptions,_this.events=underscore_default.a.indexBy(_this.email.events,"slug"),_this.segments=underscore_default.a.filter(window.mailpoet_segments,function(segment){return null===segment.deleted_at}),_this.state={event:_this.events[_this.emailOptions.event],eventSlug:_this.emailOptions.event,eventOptionValue:null,afterTimeType:_this.emailOptions.afterTimeType||send_event_conditions_defaultAfterTimeType,afterTimeNumber:_this.emailOptions.afterTimeNumber||send_event_conditions_defaultAfterTimeNumber,segment:_this.emailOptions.segment?_this.emailOptions.segment:null},_this}return inherits_default()(SendEventConditions,_React$Component),createClass_default()(SendEventConditions,[{key:"displayEventsList",value:function(){var eventSlug=this.state.eventSlug,props={disabled:!0,events:this.events,selectedEvent:eventSlug};return external_MailPoetLib_React_default.a.createElement(events_list,props)}},{key:"displayEventOptions",value:function(){var _this$state=this.state,event=_this$state.event,eventSlug=_this$state.eventSlug,meta=this.emailOptions.meta||{},props={emailSlug:this.email.slug,eventSlug:eventSlug,onValueChange:this.handleChange,eventOptions:event.options||null};return meta.option&&("remote"===props.eventOptions.type&&(props.eventOptions.values=meta.option),props.selected=underscore_default.a.map(meta.option,function(data){return data.id})),external_MailPoetLib_React_default.a.createElement(event_options,props)}},{key:"displaySegments",value:function(){var _this2=this,segment=this.state.segment;if("user"===this.emailOptions.sendTo)return null;var props={field:{id:"segments",forceSelect2:!0,values:this.segments,extendSelect2Options:{minimumResultsForSearch:1/0},selected:function(){return segment}},onValueChange:function(e){return _this2.handleChange({segment:e.target.value})}};return external_MailPoetLib_React_default.a.createElement("div",{className:"event-segment-selection"},external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FormFieldSelection_default.a,props))}},{key:"displayScheduling",value:function(){var _this$state2=this.state,props={item:{afterTimeNumber:_this$state2.afterTimeNumber,afterTimeType:_this$state2.afterTimeType},onValueChange:this.handleChange};return external_MailPoetLib_React_default.a.createElement(event_scheduling,props)}},{key:"handleChange",value:function(data){var afterTimeNumber=this.state.afterTimeNumber,newState=data;newState.afterTimeType&&"immediate"===newState.afterTimeType?newState.afterTimeNumber=null:newState.afterTimeType&&!afterTimeNumber&&(newState.afterTimeNumber=send_event_conditions_defaultAfterTimeNumber),this.setState(data,this.propagateChange)}},{key:"propagateChange",value:function(){var _this$state3=this.state,eventSlug=_this$state3.eventSlug,afterTimeType=_this$state3.afterTimeType,afterTimeNumber=_this$state3.afterTimeNumber,segment=_this$state3.segment,eventOptionValue=_this$state3.eventOptionValue,onValueChange=this.props.onValueChange;if(onValueChange){var options={group:this.email.slug,event:eventSlug,afterTimeType:afterTimeType};afterTimeNumber&&(options.afterTimeNumber=afterTimeNumber),segment&&(options.segment=segment),eventOptionValue&&(options.meta={option:eventOptionValue}),onValueChange({target:{name:"options",value:options}})}}},{key:"render",value:function(){return external_MailPoetLib_React_default.a.createElement("div",{className:"events-conditions-container"},external_MailPoetLib_React_default.a.createElement("div",null,this.displayEventsList()),external_MailPoetLib_React_default.a.createElement("div",null,this.displayEventOptions()),external_MailPoetLib_React_default.a.createElement("div",null,this.displaySegments()),external_MailPoetLib_React_default.a.createElement("div",null,this.displayScheduling()))}}]),SendEventConditions}(external_MailPoetLib_React_default.a.Component);send_event_conditions_SendEventConditions.propTypes={field:prop_types_default.a.shape({email:prop_types_default.a.shape({events:prop_types_default.a.object.isRequired}).isRequired,emailOptions:prop_types_default.a.object.isRequired}).isRequired,onValueChange:prop_types_default.a.func},send_event_conditions_SendEventConditions.defaultProps={onValueChange:null};var send_event_conditions=send_event_conditions_SendEventConditions,create_react_class=__webpack_require__(89),create_react_class_default=__webpack_require__.n(create_react_class),external_MailPoetLib_Listing_=__webpack_require__(30),external_MailPoetLib_Listing_default=__webpack_require__.n(external_MailPoetLib_Listing_),external_MailPoetLib_NewslettersListingsTabs_=__webpack_require__(90),external_MailPoetLib_NewslettersListingsTabs_default=__webpack_require__.n(external_MailPoetLib_NewslettersListingsTabs_),external_MailPoetLib_NewslettersListingsHeading_=__webpack_require__(91),external_MailPoetLib_NewslettersListingsHeading_default=__webpack_require__.n(external_MailPoetLib_NewslettersListingsHeading_),external_MailPoetLib_FeatureAnnouncement_=__webpack_require__(92),external_MailPoetLib_FeatureAnnouncement_default=__webpack_require__.n(external_MailPoetLib_FeatureAnnouncement_),external_MailPoetLib_NewslettersListingsMixins_=__webpack_require__(46),external_MailPoetLib_ClassNames_=__webpack_require__(93),external_MailPoetLib_ClassNames_default=__webpack_require__.n(external_MailPoetLib_ClassNames_),mailpoetSegments=window.mailpoet_segments||{},mailpoetTrackingEnabled=!!window.mailpoet_tracking_enabled,automaticEmails=window.mailpoet_premium_automatic_emails||{},messages={onTrash:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneNewsletterTrashed"):external_MailPoet_default.a.I18n.t("multipleNewslettersTrashed").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)},onDelete:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneNewsletterDeleted"):external_MailPoet_default.a.I18n.t("multipleNewslettersDeleted").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)},onRestore:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneNewsletterRestored"):external_MailPoet_default.a.I18n.t("multipleNewslettersRestored").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)}},columns=[{name:"subject",label:external_MailPoet_default.a.I18n.t("subject"),sortable:!0},{name:"status",label:external_MailPoet_default.a.I18n.t("status"),width:145},{name:"settings",label:external_MailPoet_default.a.I18n.t("settings")},{name:"statistics",label:external_MailPoet_default.a.I18n.t("statistics"),display:mailpoetTrackingEnabled},{name:"updated_at",label:external_MailPoet_default.a.I18n.t("lastModifiedOn"),sortable:!0}],bulkActions=[{name:"trash",label:external_MailPoet_default.a.I18n.t("moveToTrash"),onSuccess:messages.onTrash}],newsletterActions=[{name:"view",link:function(newsletter){return external_MailPoetLib_React_default.a.createElement("a",{href:newsletter.preview_url,target:"_blank",rel:"noopener noreferrer"},external_MailPoet_default.a.I18n.t("preview"))}},{name:"edit",link:function(newsletter){return external_MailPoetLib_React_default.a.createElement("a",{href:"?page=mailpoet-newsletter-editor&id=".concat(newsletter.id)},external_MailPoet_default.a.I18n.t("edit"))}},{name:"duplicate",label:external_MailPoet_default.a.I18n.t("duplicate"),onClick:function(newsletter,refresh){return external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"newsletters",action:"duplicate",data:{id:newsletter.id}}).done(function(response){external_MailPoet_default.a.Notice.success(external_MailPoet_default.a.I18n.t("newsletterDuplicated").replace("%$1s",response.data.subject)),refresh()}).fail(function(response){response.errors.length>0&&external_MailPoet_default.a.Notice.error(response.errors.map(function(error){return error.message}),{scroll:!0})})}},{name:"trash"}];external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listings_automatic_email_actions",external_MailPoetLib_NewslettersListingsMixins_.StatisticsMixin.addStatsCTAAction);var listings=create_react_class_default()({displayName:"Listings",propTypes:{match:prop_types_default.a.shape({params:prop_types_default.a.shape({tab:prop_types_default.a.string}).isRequired}).isRequired,location:prop_types_default.a.object.isRequired},mixins:[external_MailPoetLib_NewslettersListingsMixins_.StatisticsMixin,external_MailPoetLib_NewslettersListingsMixins_.MailerMixin],updateStatus:function(e){var _this=this;e.persist(),external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"newsletters",action:"setStatus",data:{id:Number(e.target.getAttribute("data-id")),status:e.target.value}}).done(function(response){"active"===response.data.status&&external_MailPoet_default.a.Notice.success(external_MailPoet_default.a.I18n.t("automaticEmailActivated")),_this.forceUpdate()}).fail(function(response){external_MailPoet_default.a.Notice.error(external_MailPoet_default.a.I18n.t("automaticEmailActivationFailed")),e.target.value=response.status})},renderStatus:function(newsletter){var totalSent=parse_int_default()(newsletter.total_sent,10)?external_MailPoet_default.a.I18n.t("sentToXCustomers").replace("%$1d",newsletter.total_sent.toLocaleString()):external_MailPoet_default.a.I18n.t("notSentYet");return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoetLib_React_default.a.createElement("select",{"data-id":newsletter.id,defaultValue:newsletter.status,onChange:this.updateStatus},external_MailPoetLib_React_default.a.createElement("option",{value:"active"},external_MailPoet_default.a.I18n.t("active")),external_MailPoetLib_React_default.a.createElement("option",{value:"draft"},external_MailPoet_default.a.I18n.t("inactive")))),external_MailPoetLib_React_default.a.createElement("p",null,totalSent))},renderSettings:function(newsletter){var sendingEvent,sendingDelay,segment,event=automaticEmails[newsletter.options.group].events[newsletter.options.event],meta=newsletter.options.meta||{},metaOptionValues=meta.option?underscore_default.a.pluck(meta.option,"name"):[];if(meta.option&&underscore_default.a.isEmpty(metaOptionValues))return external_MailPoetLib_React_default.a.createElement("span",{className:"mailpoet_error"},external_MailPoet_default.a.I18n.t("automaticEmailEventOptionsNotConfigured"));switch(sendingEvent=event.listingScheduleDisplayText.replace("%s",metaOptionValues.join(", ")),newsletter.options.sendTo){case"user":sendingEvent=external_MailPoet_default.a.I18n.t("listingScheduleSendToCustomer").replace("%1s",sendingEvent);break;default:if(void 0===(segment=underscore_default.a.find(mailpoetSegments,function(seg){return Number(seg.id)===Number(newsletter.options.segment)})))return external_MailPoetLib_React_default.a.createElement("span",{className:"mailpoet_error"},external_MailPoet_default.a.I18n.t("sendingToSegmentsNotSpecified"));sendingEvent=external_MailPoet_default.a.I18n.t("listingScheduleSendToList").replace("%1s",sendingEvent).replace("%2s",segment.name)}if(sendingEvent&&"immediate"!==newsletter.options.afterTimeType){switch(newsletter.options.afterTimeType){case"hours":sendingDelay=external_MailPoet_default.a.I18n.t("sendingDelayHours").replace("%$1d",newsletter.options.afterTimeNumber);break;case"days":sendingDelay=external_MailPoet_default.a.I18n.t("sendingDelayDays").replace("%$1d",newsletter.options.afterTimeNumber);break;case"weeks":sendingDelay=external_MailPoet_default.a.I18n.t("sendingDelayWeeks").replace("%$1d",newsletter.options.afterTimeNumber);break;default:sendingDelay=external_MailPoet_default.a.I18n.t("sendingDelayInvalid")}sendingEvent+=" [".concat(sendingDelay,"]")}return external_MailPoetLib_React_default.a.createElement("span",null,sendingEvent)},renderItem:function(newsletter,actions){var rowClasses=external_MailPoetLib_ClassNames_default()("manage-column","column-primary","has-row-actions");return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("td",{className:rowClasses},external_MailPoetLib_React_default.a.createElement("strong",null,external_MailPoetLib_React_default.a.createElement("a",{className:"row-title",href:"?page=mailpoet-newsletter-editor&id=".concat(newsletter.id)},newsletter.subject)),actions),external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("status")},this.renderStatus(newsletter)),external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("settings")},this.renderSettings(newsletter)),!0===mailpoetTrackingEnabled?external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("statistics")},this.renderStatistics(newsletter,newsletter.total_sent>0&&newsletter.statistics)):null,external_MailPoetLib_React_default.a.createElement("td",{className:"column-date","data-colname":external_MailPoet_default.a.I18n.t("lastModifiedOn")},external_MailPoetLib_React_default.a.createElement("abbr",null,external_MailPoet_default.a.Date.format(newsletter.updated_at))))},render:function(){var _this$props=this.props,match=_this$props.match,location=_this$props.location;return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_NewslettersListingsHeading_default.a,null),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_FeatureAnnouncement_default.a,{hasNews:window.mailpoet_feature_announcement_has_news}),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_NewslettersListingsTabs_default.a,{tab:"woocommerce"}),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_Listing_default.a,{limit:window.mailpoet_listing_per_page,location:location,params:match.params,endpoint:"newsletters",type:"automatic",base_url:"woocommerce",onRenderItem:this.renderItem,columns:columns,bulk_actions:bulkActions,item_actions:newsletterActions,messages:messages,auto_refresh:!0,sort_by:"updated_at",sort_order:"desc",afterGetItems:this.checkMailerStatus}))}}),emails=window.mailpoet_premium_automatic_emails||[];if(document.getElementById("newsletters_container")&&!underscore_default.a.isEmpty(emails)){external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_types",function(types,that){var existingTypes=underscore_default.a.reject(types,function(type){return underscore_default.a.has(emails,type.slug)}),newTypes=underscore_default.a.map(emails,function(email){var updatedEmail=email,onClick=underscore_default.a.partial(that.setupNewsletter,email.slug);return updatedEmail.action=external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("span",{className:"button button-primary",onClick:onClick,onKeyDown:function(event){["keydown","keypress"].includes(event.type)&&["Enter"," "].includes(event.key)&&(event.preventDefault(),onClick())},role:"button","data-automation-id":"create_woocommerce",tabIndex:0},email.actionButtonTitle||external_MailPoet_default.a.I18n.t("setUp"))),updatedEmail});return toConsumableArray_default()(existingTypes).concat(toConsumableArray_default()(newTypes))}),external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_before_router",function(routes){var existingRoutes=underscore_default.a.reject(routes,function(route){return underscore_default.a.has(emails,route.name)}),emailsRoutes=[],emailsEventsRoutes=[],emailsListingsRoute=[];return underscore_default.a.each(emails,function(email){var events=email.events;underscore_default.a.isObject(events)&&underscore_default.a.each(events,function(event){emailsEventsRoutes.push({path:"/new/".concat(email.slug,"/").concat(event.slug,"/conditions"),name:event.slug,render:function(props){var componentProps=objectSpread_default()({},props,{email:email,name:event.slug});return external_MailPoetLib_React_default.a.createElement(events_conditions,componentProps)}})}),emailsRoutes.push({path:"/new/".concat(email.slug),name:email.slug,render:function(props){var componentProps=objectSpread_default()({},props,{email:email});return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_AutomaticEmailEventsList_default.a,componentProps)}}),emailsListingsRoute.push({path:"/".concat(email.slug,"/(.*)?"),params:{tab:email.slug},component:listings})}),emailsEventsRoutes.concat(emailsRoutes,emailsListingsRoute,toConsumableArray_default()(existingRoutes))})}external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listings_tabs",function(tabs){var listingsTabs=[];return underscore_default.a.each(emails,function(email){listingsTabs.push({name:email.slug,label:email.title,link:"/".concat(email.slug)})}),toConsumableArray_default()(tabs).concat(listingsTabs)});var automatic_emails_addTemplateSelectionBreadcrumb=function(defaultBreadcrumb,newsletterType,step){return"automatic"===newsletterType?external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_AutomaticEmailsBreadcrumb_default.a,{step:step}):defaultBreadcrumb};external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_template_breadcrumb",automatic_emails_addTemplateSelectionBreadcrumb),external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_editor_breadcrumb",automatic_emails_addTemplateSelectionBreadcrumb),external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_send_breadcrumb",automatic_emails_addTemplateSelectionBreadcrumb);external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_editor_extend_config",function(defaultConfig,newsletter){if("automatic"!==newsletter.type)return defaultConfig;var config=defaultConfig;return external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"automatic_emails",action:"get_event_shortcodes",data:{email_slug:newsletter.options.group,event_slug:newsletter.options.event}}).then(function(response){return underscore_default.a.isObject(response)&&response.data?(config.shortcodes=objectSpread_default()({},config.shortcodes,response.data),config):config}).fail(function(pauseFailResponse){pauseFailResponse.errors.length>0&&external_MailPoet_default.a.Notice.error(pauseFailResponse.errors.map(function(error){return error.message}),{scroll:!0,static:!0})})});external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_send_newsletter_fields",function(defaultFields,newsletter){if("automatic"!==newsletter.type)return defaultFields;var email=emails[newsletter.options.group];if(!email)return defaultFields;var emailOptions=newsletter.options,fields=[{name:"subject",label:external_MailPoet_default.a.I18n.t("subjectLine"),tip:external_MailPoet_default.a.I18n.t("subjectLineTip"),type:"text",validation:{"data-parsley-required":!0,"data-parsley-required-message":external_MailPoet_default.a.I18n.t("emptySubjectLineError")}},{name:"options",label:external_MailPoet_default.a.I18n.t("sendAutomaticEmailWhenHeading").replace("%1s",email.title),type:"reactComponent",component:send_event_conditions,email:email,emailOptions:emailOptions},{name:"sender",label:external_MailPoet_default.a.I18n.t("sender"),tip:external_MailPoet_default.a.I18n.t("senderTip"),fields:[{name:"sender_name",type:"text",placeholder:external_MailPoet_default.a.I18n.t("senderNamePlaceholder"),validation:{"data-parsley-required":!0}},{name:"sender_address",type:"text",placeholder:external_MailPoet_default.a.I18n.t("senderAddressPlaceholder"),validation:{"data-parsley-required":!0,"data-parsley-type":"email"}}]},{name:"reply-to",label:external_MailPoet_default.a.I18n.t("replyTo"),tip:external_MailPoet_default.a.I18n.t("replyToTip"),inline:!0,fields:[{name:"reply_to_name",type:"text",placeholder:external_MailPoet_default.a.I18n.t("replyToNamePlaceholder")},{name:"reply_to_address",type:"text",placeholder:external_MailPoet_default.a.I18n.t("replyToAddressPlaceholder"),validation:{"data-parsley-type":"email"}}]}];return{getFields:function(){return fields},getSendButtonOptions:function(){return{value:external_MailPoet_default.a.I18n.t("activate")}}}});external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_send_server_request_parameters",function(defaultParameters,newsletter){return"automatic"===newsletter.type?{api_version:window.mailpoet_api_version,endpoint:"newsletters",action:"setStatus",data:{id:newsletter.id,status:"active"}}:defaultParameters});external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_send_server_request_response_redirect",function(defaultRedirect,newsletter){return"automatic"===newsletter.type?"/".concat(newsletter.options.group):defaultRedirect});external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_send_server_request_response",function(newsletter){if("automatic"!==newsletter.type)return null;var email=emails[newsletter.options.group];return email?function(){external_MailPoet_default.a.Notice.success(external_MailPoet_default.a.I18n.t("automaticEmailActivated").replace("%1s",email.title))}:null})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var parse_int=__webpack_require__(16),parse_int_default=__webpack_require__.n(parse_int),external_MailPoetLib_React_=__webpack_require__(1),external_MailPoetLib_React_default=__webpack_require__.n(external_MailPoetLib_React_),external_MailPoetLib_ReactRouter_=__webpack_require__(8),external_MailPoet_=__webpack_require__(0),external_MailPoet_default=__webpack_require__.n(external_MailPoet_),external_MailPoetLib_Hooks_=__webpack_require__(6),external_MailPoetLib_Hooks_default=__webpack_require__.n(external_MailPoetLib_Hooks_),classCallCheck=__webpack_require__(9),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(7),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(10),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(11),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(12),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(4),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),external_MailPoetLib_ReactStringReplace_=__webpack_require__(35),external_MailPoetLib_ReactStringReplace_default=__webpack_require__.n(external_MailPoetLib_ReactStringReplace_),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),external_MailPoetLib_StatsBadge_=__webpack_require__(44),external_MailPoetLib_StatsBadge_default=__webpack_require__.n(external_MailPoetLib_StatsBadge_),newsletter_stats_NewsletterGeneralStats=function(_ref){var newsletter=_ref.newsletter,totalSent=newsletter.total_sent||0,percentageClicked=0,percentageOpened=0,percentageUnsubscribed=0;totalSent>0&&(percentageClicked=100*newsletter.statistics.clicked/totalSent,percentageOpened=100*newsletter.statistics.opened/totalSent,percentageUnsubscribed=100*newsletter.statistics.unsubscribed/totalSent);var statsContent,percentageClickedDisplay=external_MailPoet_default.a.Num.toLocaleFixed(percentageClicked,1),percentageOpenedDisplay=external_MailPoet_default.a.Num.toLocaleFixed(percentageOpened,1),percentageUnsubscribedDisplay=external_MailPoet_default.a.Num.toLocaleFixed(percentageUnsubscribed,1),headlineOpened="".concat(percentageOpenedDisplay,"% ").concat(external_MailPoet_default.a.I18n.t("percentageOpened")),headlineClicked="".concat(percentageClickedDisplay,"% ").concat(external_MailPoet_default.a.I18n.t("percentageClicked")),headlineUnsubscribed="".concat(percentageUnsubscribedDisplay,"% ").concat(external_MailPoet_default.a.I18n.t("percentageUnsubscribed"));return statsContent=totalSent>=20&&newsletter.statistics.opened>=5?external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_grey"},external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_big mailpoet_stat_spaced"},external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_StatsBadge_default.a,{stat:"opened",rate:percentageOpened,headline:headlineOpened})),external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_big mailpoet_stat_spaced"},external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_StatsBadge_default.a,{stat:"clicked",rate:percentageClicked,headline:headlineClicked})),external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_StatsBadge_default.a,{stat:"unsubscribed",rate:percentageUnsubscribed,headline:headlineUnsubscribed}))):external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_grey"},external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_big mailpoet_stat_spaced"},headlineOpened),external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_big mailpoet_stat_spaced"},headlineClicked),external_MailPoetLib_React_default.a.createElement("div",null,headlineUnsubscribed)),external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("p",{className:"mailpoet_stat_grey mailpoet_stat_big"},external_MailPoet_default.a.I18n.t("statsTotalSent")," ",parse_int_default()(totalSent,10).toLocaleString()),statsContent,newsletter.ga_campaign&&external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoet_default.a.I18n.t("googleAnalytics"),":",newsletter.ga_campaign),external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoetLib_React_default.a.createElement("a",{href:"http://beta.docs.mailpoet.com/article/190-whats-a-good-email-open-rate",target:"_blank",rel:"noopener noreferrer"},external_MailPoet_default.a.I18n.t("readMoreOnStats"))))};newsletter_stats_NewsletterGeneralStats.propTypes={newsletter:prop_types_default.a.shape({ga_campaign:prop_types_default.a.string,total_sent:prop_types_default.a.number,statistics:prop_types_default.a.shape({clicked:prop_types_default.a.number,opened:prop_types_default.a.number,unsubscribed:prop_types_default.a.number,revenue:prop_types_default.a.shape({currency:prop_types_default.a.string.isRequired,value:prop_types_default.a.number.isRequired,formatted:prop_types_default.a.string.isRequired})}).isRequired}).isRequired};var newsletter_stats=newsletter_stats_NewsletterGeneralStats;function formatAddress(address,name){var addressString="";return address&&(addressString=name?"".concat(name," <").concat(address,">"):address),addressString}function NewsletterStatsInfo(props){var newsletter=props.newsletter,newsletterDate=newsletter.queue.scheduled_at||newsletter.queue.created_at,senderAddress=formatAddress(newsletter.sender_address||"",newsletter.sender_name||""),replyToAddress=formatAddress(newsletter.reply_to_address||"",newsletter.reply_to_name||""),segments=(newsletter.segments||[]).map(function(segment){return segment.name}).join(", ");return external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_spaced"},external_MailPoetLib_React_default.a.createElement("a",{href:newsletter.preview_url,className:"button-secondary",target:"_blank",rel:"noopener noreferrer"},external_MailPoet_default.a.I18n.t("statsPreviewNewsletter"))),external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoet_default.a.I18n.t("statsDateSent"),":"," ",external_MailPoet_default.a.Date.format(newsletterDate)),segments&&external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoet_default.a.I18n.t("statsToSegments"),":"," ",segments),external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoet_default.a.I18n.t("statsFromAddress"),":"," ",senderAddress),replyToAddress&&external_MailPoetLib_React_default.a.createElement("p",null,external_MailPoet_default.a.I18n.t("statsReplyToAddress"),":"," ",replyToAddress))}NewsletterStatsInfo.propTypes={newsletter:prop_types_default.a.shape({queue:prop_types_default.a.shape({scheduled_at:prop_types_default.a.string,created_at:prop_types_default.a.string}).isRequired,sender_address:prop_types_default.a.string,sender_name:prop_types_default.a.string,reply_to_address:prop_types_default.a.string,reply_to_name:prop_types_default.a.string,segments:prop_types_default.a.array}).isRequired};var newsletter_info=NewsletterStatsInfo,mailpoetShortcodeLinks=window.mailpoet_shortcode_links;function ClickedLinksTable(props){var content,links=props.links;return content=0===links.length?external_MailPoetLib_React_default.a.createElement("tr",{className:"alternate"},external_MailPoetLib_React_default.a.createElement("td",{colSpan:"2"},external_MailPoet_default.a.I18n.t("noClickedLinksFound"))):links.map(function(row,index){return external_MailPoetLib_React_default.a.createElement("tr",{key:"link-".concat(row.id),className:index%2==1?"alternate":""},external_MailPoetLib_React_default.a.createElement("td",{className:"mailpoet_stat_force-wrap"},(url=row.url,mailpoetShortcodeLinks[url]?mailpoetShortcodeLinks[url]:external_MailPoetLib_React_default.a.createElement("a",{href:url,target:"_blank",rel:"noopener noreferrer"},url))),external_MailPoetLib_React_default.a.createElement("td",null,row.cnt));var url}),external_MailPoetLib_React_default.a.createElement("table",{className:"widefat"},external_MailPoetLib_React_default.a.createElement("thead",null,external_MailPoetLib_React_default.a.createElement("tr",null,external_MailPoetLib_React_default.a.createElement("td",null,external_MailPoet_default.a.I18n.t("linkColumn")),external_MailPoetLib_React_default.a.createElement("td",null,external_MailPoet_default.a.I18n.t("uniqueClicksColumn")))),external_MailPoetLib_React_default.a.createElement("tbody",null,content))}ClickedLinksTable.propTypes={links:prop_types_default.a.arrayOf(prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,cnt:prop_types_default.a.string.isRequired,url:prop_types_default.a.string.isRequired})).isRequired};var clicked_links_table=ClickedLinksTable,underscore=__webpack_require__(3),underscore_default=__webpack_require__.n(underscore),external_MailPoetLib_Listing_=__webpack_require__(30),external_MailPoetLib_Listing_default=__webpack_require__.n(external_MailPoetLib_Listing_),mailpoetListingPerPage=window.mailpoet_listing_per_page,columns=[{name:"email",label:external_MailPoet_default.a.I18n.t("subscriberColumn"),sortable:!0},{name:"status",label:external_MailPoet_default.a.I18n.t("statusColumn"),sortable:!0},{name:"created_at",label:external_MailPoet_default.a.I18n.t("dateAndTimeColumn"),sortable:!0}],messages={onLoadingItems:function(){return external_MailPoet_default.a.I18n.t("loadingEngagementItems")},onNoItemsFound:function(){return external_MailPoet_default.a.I18n.t("noEngagementItemsFound")}},trackFilteredByClickedLinks=underscore_default.a.once(function(){return external_MailPoet_default.a.trackEvent("User has filtered subscribers by clicked links",{"MailPoet Premium version":window.mailpoet_premium_version})});function getListingItemKey(item){return"item-".concat(item.id,"-").concat(item.status)}function renderStatItem(statistic){var email,status="";switch(statistic.status){case"opened":status=external_MailPoet_default.a.I18n.t("opened");break;case"clicked":status=external_MailPoet_default.a.I18n.t("clicked");break;case"unsubscribed":status=external_MailPoet_default.a.I18n.t("unsubscribed");break;case"unopened":status=external_MailPoet_default.a.I18n.t("unopened")}return email=statistic.email?external_MailPoetLib_React_default.a.createElement("strong",null,external_MailPoetLib_React_default.a.createElement("a",{className:"row-title",href:statistic.subscriber_url},statistic.email)):external_MailPoet_default.a.I18n.t("deletedSubscriber"),external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("td",{className:"manage-column column-primary has-row-actions"},email,external_MailPoetLib_React_default.a.createElement("p",{style:{margin:0}},statistic.first_name," ",statistic.last_name)),external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("statusColumn")},status),external_MailPoetLib_React_default.a.createElement("td",{className:"column-date","data-colname":external_MailPoet_default.a.I18n.t("dateAndTimeColumn")},external_MailPoetLib_React_default.a.createElement("abbr",null,external_MailPoet_default.a.Date.format(statistic.created_at))))}var subscriber_engagement_SubscriberEngagementListing=function(_React$Component){function SubscriberEngagementListing(props){var _this;return classCallCheck_default()(this,SubscriberEngagementListing),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(SubscriberEngagementListing).call(this,props))).renderCreateSegmentButton=_this.renderCreateSegmentButton.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.handleCreateSegment=_this.handleCreateSegment.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this}return inherits_default()(SubscriberEngagementListing,_React$Component),createClass_default()(SubscriberEngagementListing,[{key:"handleCreateSegment",value:function(group,newsletter,linkId){var handleCreateSegment=this.props.handleCreateSegment;handleCreateSegment(group,newsletter,linkId)}},{key:"renderCreateSegmentButton",value:function(listingState){var _this$props=this.props,newsletter=_this$props.newsletter,savingSegment=_this$props.savingSegment;if(-1!==["opened","clicked","unopened"].indexOf(listingState.group))return external_MailPoetLib_React_default.a.createElement("input",{onClick:underscore_default.a.partial(this.handleCreateSegment,listingState.group,newsletter,listingState.filter.link),type:"submit",value:savingSegment?external_MailPoet_default.a.I18n.t("savingSegment"):external_MailPoet_default.a.I18n.t("createSegment"),className:"stats-create-segment button",disabled:savingSegment})}},{key:"render",value:function(){var _this$props2=this.props,params=_this$props2.params,location=_this$props2.location;return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_Listing_default.a,{limit:mailpoetListingPerPage,location:location,params:params,endpoint:"stats",base_url:"stats/:id",onRenderItem:renderStatItem,getListingItemKey:getListingItemKey,onBeforeSelectFilter:trackFilteredByClickedLinks,columns:columns,messages:messages,sort_by:"created_at",sort_order:"desc",renderExtraActions:this.renderCreateSegmentButton})}}]),SubscriberEngagementListing}(external_MailPoetLib_React_default.a.Component);subscriber_engagement_SubscriberEngagementListing.propTypes={params:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,0:prop_types_default.a.string}).isRequired,location:prop_types_default.a.object.isRequired,handleCreateSegment:prop_types_default.a.func.isRequired,savingSegment:prop_types_default.a.bool.isRequired,newsletter:prop_types_default.a.shape({id:prop_types_default.a.string.isRequired,subject:prop_types_default.a.string.isRequired}).isRequired};var subscriber_engagement=subscriber_engagement_SubscriberEngagementListing,page_CampaignStatsPage=function(_React$Component){function CampaignStatsPage(props){var _this;return classCallCheck_default()(this,CampaignStatsPage),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(CampaignStatsPage).call(this,props))).state={item:{},loading:!0,savingSegment:!1,segmentCreated:!1,segmentErrors:[]},_this.handleCreateSegment=_this.handleCreateSegment.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this}return inherits_default()(CampaignStatsPage,_React$Component),createClass_default()(CampaignStatsPage,[{key:"componentDidMount",value:function(){var match=this.props.match;window.scrollTo(0,0),this.loadItem(match.params.id)}},{key:"componentWillReceiveProps",value:function(props){this.props.match.params.id!==props.match.params.id&&this.loadItem(props.match.params.id)}},{key:"handleCreateSegment",value:function(group,newsletter,linkId){var _this2=this,name="".concat(newsletter.subject," – ").concat(group);this.setState({savingSegment:!0,segmentCreated:!1,segmentErrors:[]}),external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"dynamic_segments",action:"save",data:{segmentType:"email",action:"unopened"===group?"notOpened":group,newsletter_id:newsletter.id,link_id:linkId,name:name}}).always(function(){_this2.setState({savingSegment:!1})}).done(function(){_this2.setState({segmentCreated:!0,segmentName:name})}).fail(function(response){_this2.setState({segmentErrors:response.errors.map(function(error){return 409===error.error?external_MailPoet_default.a.I18n.t("segmentExists"):error.message})})})}},{key:"loadItem",value:function(id){var _this3=this,history=this.props.history;this.setState({loading:!0}),external_MailPoet_default.a.Modal.loading(!0),external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"stats",action:"get",data:{id:id}}).always(function(){external_MailPoet_default.a.Modal.loading(!1)}).done(function(response){_this3.setState({loading:!1,item:response.data})}).fail(function(response){external_MailPoet_default.a.Notice.error(response.errors.map(function(error){return error.message}),{scroll:!0}),_this3.setState({loading:!1,item:{}},function(){history.push("/")})})}},{key:"renderCreateSegmentSuccess",value:function(){var segmentCreatedSuccessMessage,_this$state=this.state,segmentCreated=_this$state.segmentCreated,segmentName=_this$state.segmentName;if(segmentCreated){var message=external_MailPoetLib_ReactStringReplace_default()(external_MailPoet_default.a.I18n.t("successMessage"),/\[link\](.*?)\[\/link\]/g,function(match,i){return external_MailPoetLib_React_default.a.createElement("a",{key:i,href:"?page=mailpoet-newsletters#/new"},match)});message=external_MailPoetLib_ReactStringReplace_default()(message,"%s",function(){return segmentName}),segmentCreatedSuccessMessage=external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_notice notice inline notice-success"},external_MailPoetLib_React_default.a.createElement("p",null,message))}return segmentCreatedSuccessMessage}},{key:"renderCreateSegmentError",value:function(){var error,segmentErrors=this.state.segmentErrors;return segmentErrors.length>0&&(error=external_MailPoetLib_React_default.a.createElement("div",null,segmentErrors.map(function(errorMessage){return external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_notice notice inline error",key:"error-".concat(errorMessage)},external_MailPoetLib_React_default.a.createElement("p",null,errorMessage))}))),error}},{key:"render",value:function(){var _this$state2=this.state,item=_this$state2.item,loading=_this$state2.loading,savingSegment=_this$state2.savingSegment,newsletter=item,_this$props=this.props,match=_this$props.match,location=_this$props.location;return loading||!newsletter.queue?external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("h1",{className:"title"},external_MailPoet_default.a.I18n.t("statsTitle"),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{className:"page-title-action",to:"/"},external_MailPoet_default.a.I18n.t("backToList")))):external_MailPoetLib_React_default.a.createElement("div",null,external_MailPoetLib_React_default.a.createElement("h1",{className:"title"},"".concat(external_MailPoet_default.a.I18n.t("statsTitle"),": ").concat(newsletter.subject),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{className:"page-title-action",to:"/"},external_MailPoet_default.a.I18n.t("backToList"))),external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_triple-spaced"},external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_info"},external_MailPoetLib_React_default.a.createElement(newsletter_info,{newsletter:newsletter})),external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_general"},external_MailPoetLib_React_default.a.createElement(newsletter_stats,{newsletter:newsletter})),external_MailPoetLib_React_default.a.createElement("div",{style:{clear:"both"}})),external_MailPoetLib_React_default.a.createElement("h2",null,external_MailPoet_default.a.I18n.t("clickedLinks")),external_MailPoetLib_React_default.a.createElement("div",{className:"mailpoet_stat_triple-spaced"},external_MailPoetLib_React_default.a.createElement(clicked_links_table,{links:newsletter.clicked_links})),external_MailPoetLib_React_default.a.createElement("h2",null,external_MailPoet_default.a.I18n.t("subscriberEngagement")),this.renderCreateSegmentSuccess(),this.renderCreateSegmentError(),external_MailPoetLib_React_default.a.createElement(subscriber_engagement,{location:location,params:match.params,newsletter:newsletter,handleCreateSegment:this.handleCreateSegment,savingSegment:savingSegment}))}}]),CampaignStatsPage}(external_MailPoetLib_React_default.a.Component);page_CampaignStatsPage.propTypes={match:prop_types_default.a.shape({params:prop_types_default.a.object.isRequired}).isRequired,location:prop_types_default.a.object.isRequired,history:prop_types_default.a.shape({push:prop_types_default.a.func.isRequired}).isRequired};var page=Object(external_MailPoetLib_ReactRouter_.withRouter)(page_CampaignStatsPage);external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_before_router",function(routes){var updatedRoutes=routes;return updatedRoutes.push({path:"/stats/:id/(.*)?",component:page}),updatedRoutes});var campaign_stats_trackStatsClicked=function(){return external_MailPoet_default.a.trackEvent("User has clicked to view detailed stats",{"MailPoet Premium version":window.mailpoet_premium_version})};external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listing_stats_before",function(params,newsletter){var updatedParams=params;return updatedParams.link="/stats/".concat(newsletter.id),updatedParams.onClick=campaign_stats_trackStatsClicked,updatedParams});var campaign_stats_addStatisticsAction=function(actions){var updatedActions=actions;return updatedActions.unshift({name:"stats",link:function(newsletter){return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{to:"/stats/".concat(newsletter.id),onClick:campaign_stats_trackStatsClicked},external_MailPoet_default.a.I18n.t("statsListingActionTitle"))},display:function(newsletter){var countProcessed=newsletter.queue&&newsletter.queue.count_processed;return(parse_int_default()(newsletter.total_sent,10)||parse_int_default()(countProcessed,10))>0}}),updatedActions};external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listings_standard_actions",campaign_stats_addStatisticsAction),external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listings_welcome_notification_actions",campaign_stats_addStatisticsAction),external_MailPoetLib_Hooks_default.a.addFilter("mailpoet_newsletters_listings_notification_history_actions",campaign_stats_addStatisticsAction)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_MailPoetLib_React_=__webpack_require__(1),external_MailPoetLib_React_default=__webpack_require__.n(external_MailPoetLib_React_),external_MailPoetLib_ReactDOM_=__webpack_require__(94),external_MailPoetLib_ReactDOM_default=__webpack_require__.n(external_MailPoetLib_ReactDOM_),external_MailPoetLib_ReactRouter_=__webpack_require__(8),parse_int=__webpack_require__(16),parse_int_default=__webpack_require__.n(parse_int),external_MailPoet_=__webpack_require__(0),external_MailPoet_default=__webpack_require__.n(external_MailPoet_),external_MailPoetLib_Listing_=__webpack_require__(30),external_MailPoetLib_Listing_default=__webpack_require__.n(external_MailPoetLib_Listing_),prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),columns=[{name:"name",label:external_MailPoet_default.a.I18n.t("nameColumn"),sortable:!0},{name:"count",label:external_MailPoet_default.a.I18n.t("subscribersCountColumn"),sortable:!1},{name:"updated_at",label:external_MailPoet_default.a.I18n.t("updatedAtColumn"),sortable:!0}],messages={onLoadingItems:function(){return external_MailPoet_default.a.I18n.t("loadingDynamicSegmentItems")},onNoItemsFound:function(){return external_MailPoet_default.a.I18n.t("noDynamicSegmentItemsFound")},onTrash:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneSegmentTrashed"):external_MailPoet_default.a.I18n.t("multipleSegmentsTrashed").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)},onDelete:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneSegmentDeleted"):external_MailPoet_default.a.I18n.t("multipleSegmentsDeleted").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)},onRestore:function(response){var count=Number(response.meta.count),message=null;message=1===count?external_MailPoet_default.a.I18n.t("oneSegmentRestored"):external_MailPoet_default.a.I18n.t("multipleSegmentsRestored").replace("%$1d",count.toLocaleString()),external_MailPoet_default.a.Notice.success(message)}},itemActions=[{name:"edit",link:function(item){return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{to:"/edit/".concat(item.id)},external_MailPoet_default.a.I18n.t("edit"))}},{name:"view_subscribers",link:function(item){return external_MailPoetLib_React_default.a.createElement("a",{href:item.subscribers_url},external_MailPoet_default.a.I18n.t("viewSubscribers"))}},{name:"trash"}];function renderItem(item,actions){return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_React_default.a.Fragment,null,external_MailPoetLib_React_default.a.createElement("td",{"data-colname":external_MailPoet_default.a.I18n.t("nameColumn")},external_MailPoetLib_React_default.a.createElement("strong",null,item.name),actions),external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("subscribersCountColumn")},parse_int_default()(item.count,10).toLocaleString()),external_MailPoetLib_React_default.a.createElement("td",{className:"column","data-colname":external_MailPoet_default.a.I18n.t("updatedAtColumn")},external_MailPoet_default.a.Date.format(item.updated_at)))}function DynamicSegmentList(props){return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_React_default.a.Fragment,null,external_MailPoetLib_React_default.a.createElement("h1",{className:"title"},external_MailPoet_default.a.I18n.t("pageTitle")," ",external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{className:"page-title-action",to:"/new","data-automation-id":"new-segment"},external_MailPoet_default.a.I18n.t("new"))),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_Listing_default.a,{limit:window.mailpoet_listing_per_page,location:props.location,params:props.match.params,search:!0,onRenderItem:renderItem,endpoint:"dynamic_segments",columns:columns,messages:messages,sort_by:"created_at",sort_order:"desc",item_actions:itemActions}),external_MailPoetLib_React_default.a.createElement("p",{className:"mailpoet_sending_methods_help help"},external_MailPoetLib_React_default.a.createElement("b",null,external_MailPoet_default.a.I18n.t("segmentsTip"),":")," ",external_MailPoet_default.a.I18n.t("segmentsTipText")," ",external_MailPoetLib_React_default.a.createElement("a",{href:"http://beta.docs.mailpoet.com/article/237-guide-to-subscriber-segmentation?utm_source=plugin&utm_medium=segments&utm_campaign=helpdocs",target:"_blank",rel:"noopener noreferrer"},external_MailPoet_default.a.I18n.t("segmentsTipLink"))))}DynamicSegmentList.propTypes={location:prop_types_default.a.object.isRequired,match:prop_types_default.a.shape({params:prop_types_default.a.object}).isRequired};var list=DynamicSegmentList,toConsumableArray=__webpack_require__(26),toConsumableArray_default=__webpack_require__.n(toConsumableArray),classCallCheck=__webpack_require__(9),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(7),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(10),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(11),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(12),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(4),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),underscore=__webpack_require__(3),underscore_default=__webpack_require__.n(underscore),external_MailPoetLib_Form_=__webpack_require__(95),external_MailPoetLib_Form_default=__webpack_require__.n(external_MailPoetLib_Form_),defineProperty=__webpack_require__(34),defineProperty_default=__webpack_require__.n(defineProperty),promise=__webpack_require__(22),promise_default=__webpack_require__.n(promise),loadedLinks={};var email=function(formItems){return function(formItems){return"clicked"!==formItems.action&&"notClicked"!==formItems.action?promise_default.a.resolve():formItems.newsletter_id?void 0!==loadedLinks[formItems.newsletter_id]?promise_default.a.resolve(loadedLinks[formItems.newsletter_id]):external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"newsletter_links",action:"get",data:{newsletterId:formItems.newsletter_id}}).then(function(response){var data=response.data;return loadedLinks[formItems.newsletter_id]=data,data}).fail(function(response){external_MailPoet_default.a.Notice.error(response.errors.map(function(error){return error.message}),{scroll:!0})}):promise_default.a.resolve()}(formItems).then(function(links){var basicFields=[{name:"action",type:"select",values:{"":external_MailPoet_default.a.I18n.t("selectActionPlaceholder"),opened:external_MailPoet_default.a.I18n.t("emailActionOpened"),notOpened:external_MailPoet_default.a.I18n.t("emailActionNotOpened"),clicked:external_MailPoet_default.a.I18n.t("emailActionClicked"),notClicked:external_MailPoet_default.a.I18n.t("emailActionNotClicked")}},{name:"newsletter_id",type:"selection",resetSelect2OnUpdate:!0,endpoint:"newsletters_list",placeholder:external_MailPoet_default.a.I18n.t("selectNewsletterPlaceholder"),forceSelect2:!0,getLabel:function(newsletter){var sentAt=newsletter.sent_at?external_MailPoet_default.a.Date.format(newsletter.sent_at):external_MailPoet_default.a.I18n.t("notSentYet");return"".concat(newsletter.subject," (").concat(sentAt,")")}}];return links?basicFields.concat([{name:"link_id",type:"selection",placeholder:external_MailPoet_default.a.I18n.t("selectLinkPlaceholder"),forceSelect2:!0,getLabel:function(link){return link.url},values:links}]):basicFields})},actionsField={name:"action",type:"select",values:{"":external_MailPoet_default.a.I18n.t("selectActionPlaceholder"),purchasedCategory:external_MailPoet_default.a.I18n.t("wooPurchasedCategory"),purchasedProduct:external_MailPoet_default.a.I18n.t("wooPurchasedProduct")}},categoriesField={name:"category_id",type:"selection",endpoint:"product_categories",resetSelect2OnUpdate:!0,placeholder:external_MailPoet_default.a.I18n.t("selectWooPurchasedCategory"),forceSelect2:!0,getLabel:underscore_default.a.property("cat_name"),getValue:underscore_default.a.property("term_id")},productsField={name:"product_id",type:"selection",endpoint:"products",resetSelect2OnUpdate:!0,placeholder:external_MailPoet_default.a.I18n.t("selectWooPurchasedProduct"),forceSelect2:!0,getLabel:underscore_default.a.property("title"),getValue:underscore_default.a.property("ID")},form_messages={onUpdate:function(){return external_MailPoet_default.a.Notice.success(external_MailPoet_default.a.I18n.t("segmentUpdated"))},onCreate:function(data){external_MailPoet_default.a.Notice.success(external_MailPoet_default.a.I18n.t("segmentAdded")),external_MailPoet_default.a.trackEvent("Segments > Add new",{"MailPoet Free version":window.mailpoet_version,type:data.segmentType||"unknown type",subtype:data.action||data.wordpressRole||"unknown subtype"})}};var form_DynamicSegmentForm=function(_React$Component){function DynamicSegmentForm(props){var _this;return classCallCheck_default()(this,DynamicSegmentForm),(_this=possibleConstructorReturn_default()(this,getPrototypeOf_default()(DynamicSegmentForm).call(this,props))).state={item:{segmentType:"email"},childFields:[],errors:void 0},_this.loadFields(),_this.handleValueChange=_this.handleValueChange.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.handleSave=_this.handleSave.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this.onItemLoad=_this.onItemLoad.bind(assertThisInitialized_default()(assertThisInitialized_default()(_this))),_this}return inherits_default()(DynamicSegmentForm,_React$Component),createClass_default()(DynamicSegmentForm,[{key:"onItemLoad",value:function(loadedData){var item=underscore_default.a.mapObject(loadedData,function(val){return underscore_default.a.isNull(val)?"":val});this.setState({item:item},this.loadFields)}},{key:"getFields",value:function(){var filters,childFields=this.state.childFields;return[{name:"name",label:external_MailPoet_default.a.I18n.t("name"),type:"text"},{name:"description",label:external_MailPoet_default.a.I18n.t("description"),type:"textarea",tip:external_MailPoet_default.a.I18n.t("descriptionTip")},{name:"filters",description:"main",label:external_MailPoet_default.a.I18n.t("formSegmentTitle"),fields:[{name:"segmentType",type:"select",values:(filters={email:external_MailPoet_default.a.I18n.t("email"),userRole:external_MailPoet_default.a.I18n.t("wpUserRole")},window.is_woocommerce_active&&(filters.woocommerce=external_MailPoet_default.a.I18n.t("woocommerce")),filters)}].concat(toConsumableArray_default()(childFields))}]}},{key:"getChildFields",value:function(){var formItems,formFields,item=this.state.item;switch(item.segmentType){case"userRole":return promise_default.a.resolve([{name:"wordpressRole",type:"select",placeholder:external_MailPoet_default.a.I18n.t("selectUserRolePlaceholder"),values:window.wordpress_editable_roles_list.reduce(function(currentValue,accumulator){return underscore_default.a.extend({},currentValue,defineProperty_default()({},accumulator.role_id,accumulator.role_name))},{})}]);case"email":return email(item);case"woocommerce":return formFields=[actionsField],"purchasedCategory"===(formItems=item).action&&formFields.push(categoriesField),"purchasedProduct"===formItems.action&&formFields.push(productsField),promise_default.a.resolve(formFields);default:return[]}}},{key:"loadFields",value:function(){var _this2=this;this.getChildFields().then(function(fields){return _this2.setState({childFields:fields})})}},{key:"handleValueChange",value:function(e){var item=this.state.item;return item[e.target.name]=e.target.value,this.setState({item:item}),this.loadFields(),!0}},{key:"handleSave",value:function(e){var _this3=this,item=this.state.item,_this$props=this.props,history=_this$props.history,match=_this$props.match;e.preventDefault(),this.setState({errors:void 0}),external_MailPoet_default.a.Ajax.post({api_version:window.mailpoet_api_version,endpoint:"dynamic_segments",action:"save",data:item}).done(function(){history.push("/"),void 0!==match.params.id?form_messages.onUpdate():form_messages.onCreate(item)}).fail(function(response){response.errors.length>0&&_this3.setState({errors:response.errors})})}},{key:"render",value:function(){var fields=this.getFields(),match=this.props.match,_this$state=this.state,item=_this$state.item,errors=_this$state.errors;return external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_React_default.a.Fragment,null,external_MailPoetLib_React_default.a.createElement("h1",{className:"title"},external_MailPoet_default.a.I18n.t("formPageTitle")," ",external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Link,{className:"page-title-action",to:"/"},external_MailPoet_default.a.I18n.t("backToList"))),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_Form_default.a,{endpoint:"dynamic_segments",fields:fields,params:match.params,messages:form_messages,onChange:this.handleValueChange,onSubmit:this.handleSave,onItemLoad:this.onItemLoad,item:item,errors:errors}))}}]),DynamicSegmentForm}(external_MailPoetLib_React_default.a.Component);form_DynamicSegmentForm.propTypes={match:prop_types_default.a.shape({params:prop_types_default.a.shape({id:prop_types_default.a.string}).isRequired}).isRequired,history:prop_types_default.a.shape({push:prop_types_default.a.func.isRequired}).isRequired};var dynamic_segments_form=Object(external_MailPoetLib_ReactRouter_.withRouter)(form_DynamicSegmentForm),container=document.getElementById("dynamic_segments_container");container&&external_MailPoetLib_ReactDOM_default.a.render(external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.HashRouter,null,external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Switch,null,external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Route,{path:"/new",component:dynamic_segments_form}),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Route,{path:"/edit/:id",component:dynamic_segments_form}),external_MailPoetLib_React_default.a.createElement(external_MailPoetLib_ReactRouter_.Route,{path:"*",component:list}))),container)}]);